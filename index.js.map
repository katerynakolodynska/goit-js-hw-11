{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export async function fetchImages(searchString)\n{\n    const API_URL = 'https://pixabay.com/api/';\n    const API_KEY = '47525205-faccd6d0438e1a7a5e4c149e6'; \n    const requestParams = {\n      key: API_KEY,\n      q: encodeURIComponent(searchString),\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: 'true'\n    };\n    const encodedParams = new URLSearchParams(requestParams);\n    const response = await fetch([API_URL, encodedParams].join('?'));\n\n    return response.json();\n}","export function showGallery(images)\n{\n    let imageHTML = '';\n    images.forEach(image => {\n      imageHTML += `\n      <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <figure class=\"gallery-figure\">\n        <img class=\"img-gallery\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\">\n        <figcaption class=\"gallery-figcaption\">\n          <div class=\"text-content\">Likes: ${image.likes}</div>\n          <div class=\"text-content\">Views: ${image.views}</div>\n          <div class=\"text-content\">Comments: ${image.comments}</div>\n          <div class=\"text-content\">Downloads: ${image.downloads}</div>\n    </figcaption>\n      </figure>\n    </a>`;\n    });\n\n    return imageHTML;\n}\n\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport {fetchImages} from \"./js/pixabay-api.js\";\nimport {showGallery} from \"./js/render-functions.js\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector('.gallery');\nconst lightbox = new SimpleLightbox('.gallery .gallery-link');\nconst loaderElement = document.querySelector('.loader');\nconst queryElement = document.querySelector('input');\n\ndocument.querySelector('.search-form').addEventListener('submit', function(event) {\n  event.preventDefault();\n\n  loaderElement.style.display = 'block';\n  const query = queryElement.value.trim();\n\n  if (query === '') {\n    loaderElement.style.display = 'none';\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n    });\n    return;\n  }\n  gallery.innerHTML = '';\n  queryElement.value = '';\n\n  fetchImages(query)\n    .then(data => {\n      if (data.totalHits && (data.totalHits)>0) {\n        const imagesForDisplay = data.hits; \n        const imageHTML = showGallery(imagesForDisplay);\n        gallery.innerHTML = imageHTML;\n        lightbox.refresh();\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n      loaderElement.style.display = 'none';\n    })\n    .catch(error => {\n      loaderElement.style.display = 'none';\n      console.log(error.message);\n    });\n\n});\n"],"names":["fetchImages","searchString","API_URL","requestParams","encodedParams","showGallery","images","imageHTML","image","gallery","lightbox","SimpleLightbox","loaderElement","queryElement","event","query","iziToast","data","imagesForDisplay","error"],"mappings":"6vBAAO,eAAeA,EAAYC,EAClC,CACI,MAAMC,EAAU,2BAEVC,EAAgB,CACpB,IAFc,qCAGd,EAAG,mBAAmBF,CAAY,EAClC,WAAY,QACZ,YAAa,aACb,WAAY,MAClB,EACUG,EAAgB,IAAI,gBAAgBD,CAAa,EAGvD,OAFiB,MAAM,MAAM,CAACD,EAASE,CAAa,EAAE,KAAK,GAAG,CAAC,GAE/C,MACpB,CCfO,SAASC,EAAYC,EAC5B,CACI,IAAIC,EAAY,GAChB,OAAAD,EAAO,QAAQE,GAAS,CACtBD,GAAa;AAAA,sCACmBC,EAAM,aAAa;AAAA;AAAA,wCAEjBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA,6CAEjCA,EAAM,KAAK;AAAA,6CACXA,EAAM,KAAK;AAAA,gDACRA,EAAM,QAAQ;AAAA,iDACbA,EAAM,SAAS;AAAA;AAAA;AAAA,SAIhE,CAAK,EAEMD,CACX,CCVA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAW,IAAIC,EAAe,wBAAwB,EACtDC,EAAgB,SAAS,cAAc,SAAS,EAChDC,EAAe,SAAS,cAAc,OAAO,EAEnD,SAAS,cAAc,cAAc,EAAE,iBAAiB,SAAU,SAASC,EAAO,CAChFA,EAAM,eAAc,EAEpBF,EAAc,MAAM,QAAU,QAC9B,MAAMG,EAAQF,EAAa,MAAM,KAAI,EAErC,GAAIE,IAAU,GAAI,CAChBH,EAAc,MAAM,QAAU,OAC9BI,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACf,CAAK,EACD,MACD,CACDP,EAAQ,UAAY,GACpBI,EAAa,MAAQ,GAErBb,EAAYe,CAAK,EACd,KAAKE,GAAQ,CACZ,GAAIA,EAAK,WAAcA,EAAK,UAAW,EAAG,CACxC,MAAMC,EAAmBD,EAAK,KACxBV,EAAYF,EAAYa,CAAgB,EAC9CT,EAAQ,UAAYF,EACpBG,EAAS,QAAO,CACxB,MACQM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,0EACnB,CAAS,EAEHJ,EAAc,MAAM,QAAU,MACpC,CAAK,EACA,MAAMO,GAAS,CACdP,EAAc,MAAM,QAAU,OAC9B,QAAQ,IAAIO,EAAM,OAAO,CAC/B,CAAK,CAEL,CAAC"}